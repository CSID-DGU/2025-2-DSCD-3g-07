# A?¨ì˜ ë³´í–‰ ?ë„ ?ë™ ì¡°ì • ê³¼ì •

## 1?¨ê³„: ???¤ì¹˜ ì§í›„
- **A?¨ì˜ ?„ë¡œ???ì„±??*
- ë³´í–‰ ?ë„: **4 km/h** (ê¸°ë³¸ê°?
- ?„ì§ ?¤ì œ ?ë„ë¥?ì¸¡ì •???ì´ ?†ìŒ

### ?“Š DB ?€??
```
users ?Œì´ë¸?
?”â? user_id: 101, username: "A"

activity_speed_profile ?Œì´ë¸?
?œâ? user_id: 101
?œâ? speed_case1: 4.0 (ì´ˆê¸°ê°?
?œâ? data_points_count: 0
?”â? speed_history: []
```

---

## 2?¨ê³„: ì²?ë²ˆì§¸ ê²½ë¡œ ?ˆë‚´ (ì§§ì? ê±°ë¦¬)
- A?¨ê? ì§‘ì—???¸ì˜?ê¹Œì§€ ê²½ë¡œ ?ˆë‚´ ?œì‘
- **?¤ì œ ê±¸ì? ?œê°„: 2ë¶?* (120ì´?
  - ?¡ë‹¨ë³´ë„ ?€ê¸? 30ì´?
  - ?¤ì œë¡?ê±¸ì? ?œê°„: **90ì´ˆë§Œ ì¸¡ì •??* ??
- ?˜ì?ë§?**5ë¶?300ì´? ë¯¸ë§Œ**?´ë¼ ?„ë¡œ???…ë°?´íŠ¸ ????
- ë³´í–‰ ?ë„: ?¬ì „??**4 km/h**

### ?“Š DB ?€??
```
navigation_logs ?Œì´ë¸?
?œâ? log_id: 1001
?œâ? user_id: 101
?œâ? total_distance_m: 300
?œâ? active_walking_time_seconds: 90 (? í˜¸ ?€ê¸??œì™¸)
?œâ? paused_time_seconds: 30 (?¡ë‹¨ë³´ë„ ?€ê¸?
?œâ? real_walking_speed_kmh: 12.0 (300m Ã· 90ì´?= 3.33m/s = 12 km/h, ?ˆë¬´ ì§§ì•„??ë¶€?•í™•)
?œâ? pause_count: 1
?œâ? slope_factor: 1.0, weather_factor: 1.0
?”â? movement_data: {...}

activity_speed_profile ?Œì´ë¸?
?œâ? speed_case1: 4.0 (ë³€???†ìŒ - 90ì´?< 300ì´?ì¡°ê±´ ë¯¸ë‹¬)
?”â? data_points_count: 0
```

---

## 3?¨ê³„: ??ë²ˆì§¸ ê²½ë¡œ ?ˆë‚´ (ê¸?ê±°ë¦¬)
- A?¨ê? ì§‘ì—???™êµê¹Œì? ê²½ë¡œ ?ˆë‚´ ?œì‘
- **?¤ì œ ê±¸ì? ?œê°„: 8ë¶?* (480ì´?
  - ? í˜¸ ?€ê¸?+ ?´ë???ë³´ëŠ??ë©ˆì¶¤: 120ì´?
  - ?¤ì œë¡?ê±¸ì? ?œê°„: **360ì´?ì¸¡ì •??* ??
- ì¸¡ì •??ê±°ë¦¬: 1.8km
- **ê³„ì‚°???¤ì œ ?ë„: 5 km/h** (1.8km Ã· 360ì´?

### ë°±ì—”?œê? ?ë™?¼ë¡œ ê³„ì‚°:
1. ? ì”¨ê°€ ì¢‹ì•˜ê³?(ë³´ì • 1.0) ?‰ì??€?¼ë‹ˆ (ë³´ì • 1.0)
2. 5 km/hê°€ A?¨ì˜ ì§„ì§œ ?ë„êµ¬ë‚˜!
3. **?„ë¡œ???…ë°?´íŠ¸**: 4 km/h ??**4.7 km/h**
   - (ê¸°ì¡´ 4 Ã— 0.7) + (?ˆë¡œ??5 Ã— 0.3) = 4.7 km/h
   - ê¸‰ê²©??ë³€??ë°©ì?ë¥??„í•´ 70%:30% ë¹„ìœ¨ë¡?ë°˜ì˜

### ?“Š DB ?€??
```
navigation_logs ?Œì´ë¸?
?œâ? log_id: 1002
?œâ? user_id: 101
?œâ? total_distance_m: 1800
?œâ? active_walking_time_seconds: 360 ??(5ë¶??´ìƒ)
?œâ? paused_time_seconds: 120
?œâ? real_walking_speed_kmh: 5.0 (1.8km Ã· 360ì´?
?œâ? pause_count: 3
?œâ? slope_factor: 1.0, weather_factor: 1.0
?”â? movement_data: {...}

activity_speed_profile ?Œì´ë¸?(?ë™ ?…ë°?´íŠ¸!):
?œâ? speed_case1: 4.0 ??4.7
?? ?”â? ê³„ì‚°: 5.0 Ã· 1.0 Ã· 1.0 = 5.0 (??‚° base_speed)
?? ?”â? ê°€ì¤‘í‰ê·? 4.0 Ã— 0.7 + 5.0 Ã— 0.3 = 4.7
?œâ? data_points_count: 0 ??1
?”â? speed_history: [{"nav_log_id": 1002, "measured_speed": 5.0, "old_avg": 4.0, "new_avg": 4.7, ...}]
```

?“± **???Œë¦¼**: "ë³´í–‰ ?ë„ê°€ 4.7 km/hë¡??…ë°?´íŠ¸?˜ì—ˆ?µë‹ˆ??

---

## 4?¨ê³„: ??ë²ˆì§¸ ê²½ë¡œ ?ˆë‚´ (?¸ë•ê¸?
- A?¨ê? ?™êµ?ì„œ ?¸ë• ??ì¹´í˜ê¹Œì? ê²½ë¡œ ?ˆë‚´
- **?¤ì œ ê±¸ì? ?œê°„: 6ë¶?* (360ì´?
- ì¸¡ì •??ê±°ë¦¬: 1.2km
- ì¸¡ì •???¤ì œ ?ë„: 3.6 km/h (?ë¦¼)

### ë°±ì—”?œê? ?ë™?¼ë¡œ ê³„ì‚°:
1. ê²½ì‚¬??15% ?¸ë•?´ì—ˆ??(ë³´ì • 0.8)
2. 3.6 km/h Ã· 0.8 = **4.5 km/h** (?‰ì? ?˜ì‚° ?ë„)
3. A?¨ëŠ” ?¸ë•?ì„œ???ë ¤ì§€ì§€ë§? ?‰ì? ê¸°ì??¼ë¡œ??4.5 km/h
4. **?„ë¡œ???…ë°?´íŠ¸**: 4.7 km/h ??**4.6 km/h**
   - (ê¸°ì¡´ 4.7 Ã— 0.7) + (?ˆë¡œ??4.5 Ã— 0.3) = 4.6 km/h

### ?“Š DB ?€??
```
navigation_logs ?Œì´ë¸?
?œâ? log_id: 1003
?œâ? user_id: 101
?œâ? total_distance_m: 1200
?œâ? active_walking_time_seconds: 360
?œâ? real_walking_speed_kmh: 3.6 (?¸ë•?´ë¼ ?ë¦¼)
?œâ? slope_factor: 0.8 (15% ê²½ì‚¬)
?œâ? weather_factor: 1.0
?”â? movement_data: {...}

activity_speed_profile ?Œì´ë¸?(?ë™ ?…ë°?´íŠ¸!):
?œâ? speed_case1: 4.7 ??4.6
?? ?”â? ??‚°: 3.6 Ã· 0.8 Ã· 1.0 = 4.5 (?‰ì? ?˜ì‚°)
?? ?”â? ê°€ì¤‘í‰ê·? 4.7 Ã— 0.7 + 4.5 Ã— 0.3 = 4.64 ??4.6
?œâ? data_points_count: 1 ??2
?”â? speed_history: [..., {"nav_log_id": 1003, "measured_speed": 3.6, "base_speed": 4.5, "slope_factor": 0.8, ...}]
```

?“± **???Œë¦¼**: "ë³´í–‰ ?ë„ê°€ 4.6 km/hë¡??…ë°?´íŠ¸?˜ì—ˆ?µë‹ˆ??

---

## 5?¨ê³„: ??ë²ˆì§¸ ê²½ë¡œ ?ˆë‚´ (ë¹??¤ëŠ” ??
- ë¹??¤ëŠ” ??A?¨ê? ì§‘ì—??ë³‘ì›ê¹Œì? ê²½ë¡œ ?ˆë‚´
- **?¤ì œ ê±¸ì? ?œê°„: 7ë¶?* (420ì´?
- ì¸¡ì •??ê±°ë¦¬: 2.1km
- ì¸¡ì •???¤ì œ ?ë„: 5.4 km/h (ë¹ ë¦„?)

### ë°±ì—”?œê? ?ë™?¼ë¡œ ê³„ì‚°:
1. ë¹„ê? ë§ì´ ?€??? ì”¨ ë³´ì •: 0.85
2. 5.4 km/h Ã· 0.85 = **6.35 km/h** (ë§‘ì? ???˜ì‚° ?ë„)
3. ?? ?´ìƒ?˜ê²Œ ë¹ ë¥¸?? ???°ì‚° ?°ê³  ë¹¨ë¦¬ ê±¸ì—ˆ?˜ë´„
4. **?„ë¡œ???…ë°?´íŠ¸**: 4.6 km/h ??**5.1 km/h**
   - (ê¸°ì¡´ 4.6 Ã— 0.7) + (?ˆë¡œ??6.35 Ã— 0.3) = 5.1 km/h

### ?“Š DB ?€??
```
navigation_logs ?Œì´ë¸?
?œâ? log_id: 1004
?œâ? user_id: 101
?œâ? total_distance_m: 2100
?œâ? active_walking_time_seconds: 420
?œâ? real_walking_speed_kmh: 5.4 (ë¹??¤ëŠ”??ë¹ ë¦„)
?œâ? slope_factor: 1.0
?œâ? weather_factor: 0.85 (ë¹?
?”â? movement_data: {...}

activity_speed_profile ?Œì´ë¸?(?ë™ ?…ë°?´íŠ¸!):
?œâ? speed_case1: 4.6 ??5.1
?? ?”â? ??‚°: 5.4 Ã· 1.0 Ã· 0.85 = 6.35 (ë§‘ì? ???˜ì‚°)
?? ?”â? ê°€ì¤‘í‰ê·? 4.6 Ã— 0.7 + 6.35 Ã— 0.3 = 5.125 ??5.1
?œâ? data_points_count: 2 ??3
?”â? speed_history: [..., {"nav_log_id": 1004, "measured_speed": 5.4, "base_speed": 6.35, "weather_factor": 0.85, ...}]
```

?“± **???Œë¦¼**: "ë³´í–‰ ?ë„ê°€ 5.1 km/hë¡??…ë°?´íŠ¸?˜ì—ˆ?µë‹ˆ??

---

## ìµœì¢… ê²°ê³¼

### A?¨ì˜ ?„ë¡œ??ë³€??
- **ì²˜ìŒ**: 4.0 km/h (ëª¨ë“  ?¬ìš©???™ì¼)
- **4ë²ˆì˜ ê²½ë¡œ ?ˆë‚´ ??*: 5.1 km/h (A?¨ë§Œ???ë„)

### ?“Š DB ìµœì¢… ?íƒœ
```
users ?Œì´ë¸?
?”â? user_id: 101, username: "A"

activity_speed_profile ?Œì´ë¸?
?œâ? user_id: 101
?œâ? speed_case1: 4.0 ??5.1 km/h
?œâ? data_points_count: 0 ??3 (? íš¨??ì¸¡ì • ?Ÿìˆ˜)
?”â? speed_history: [3ê°??´ë ¥]
    ?œâ? {"nav_log_id": 1002, "measured_speed": 5.0, "old_avg": 4.0, "new_avg": 4.7, ...}
    ?œâ? {"nav_log_id": 1003, "measured_speed": 3.6, "base_speed": 4.5, "old_avg": 4.7, "new_avg": 4.6, ...}
    ?”â? {"nav_log_id": 1004, "measured_speed": 5.4, "base_speed": 6.35, "old_avg": 4.6, "new_avg": 5.1, ...}

navigation_logs ?Œì´ë¸?
?œâ? log_id: 1001 (?ˆë¬´ ì§§ì•„???„ë¡œ???…ë°?´íŠ¸ ????
?œâ? log_id: 1002 (?‰ì?, ë§‘ìŒ, 5.0 km/h ???„ë¡œ???…ë°?´íŠ¸)
?œâ? log_id: 1003 (?¸ë•, ë§‘ìŒ, 3.6 km/h ???‰ì? ?˜ì‚° 4.5 km/h)
?”â? log_id: 1004 (?‰ì?, ë¹? 5.4 km/h ??ë§‘ì? ???˜ì‚° 6.35 km/h)
```

### ?¤ìŒ ê²½ë¡œ ?ˆë‚´ë¶€??
- ?±ì? **5.1 km/h**ë¥?ê¸°ì??¼ë¡œ ?„ì°© ?œê°„ ?ˆì¸¡
- ? ì”¨?€ ê²½ì‚¬??ê³ ë ¤?´ì„œ ???•í™•???œê°„ ê³„ì‚°
- A?¨ê? ê±¸ì„ ?Œë§ˆ??ê³„ì† ?…ë°?´íŠ¸??

---

## ?µì‹¬ ?¬ì¸??

??**? í˜¸ ?€ê¸??œê°„?€ ?œì™¸** - GPS + ê°€?ë„ê³„ë¡œ ?¤ì œë¡?ê±¸ì? ?œê°„ë§?ì¸¡ì •

??**5ë¶??´ìƒ ê±¸ì–´???…ë°?´íŠ¸** - ì§§ì? ê±°ë¦¬???¤ì°¨ê°€ ?????ˆì–´??

??**ì²œì²œ??ë³€??* - 70%:30% ë¹„ìœ¨ë¡?ê¸‰ê²©??ë³€??ë°©ì?

??**? ì”¨/ê²½ì‚¬ ë³´ì •** - ?¸ë•?´ë‚˜ ë¹??¤ëŠ” ? ì˜ ?í–¥ ?œê±°

??**?„ì „ ?ë™** - ?¬ìš©?ëŠ” ?„ë¬´ê²ƒë„ ???´ë„ ??

??**ëª¨ë“  ë³€??ê¸°ë¡** - speed_history JSONB???¸ì œ ?´ë–»ê²?ë³€?ˆëŠ”ì§€ ì¶”ì 
