# Aì”¨ì˜ ë³´í–‰ ì†ë„ ìë™ ì¡°ì • ê³¼ì •

## 1ë‹¨ê³„: ì•± ì„¤ì¹˜ ì§í›„
- **Aì”¨ì˜ í”„ë¡œí•„ ìƒì„±ë¨**
- ë³´í–‰ ì†ë„: **4 km/h** (ê¸°ë³¸ê°’)
- ì•„ì§ ì‹¤ì œ ì†ë„ë¥¼ ì¸¡ì •í•œ ì ì´ ì—†ìŒ

### ğŸ“Š DB ì €ì¥
```
users í…Œì´ë¸”:
â””â”€ user_id: 101, username: "A"

activity_speed_profile í…Œì´ë¸”:
â”œâ”€ user_id: 101
â”œâ”€ avg_speed_flat_kmh: 4.0 (ì´ˆê¸°ê°’)
â”œâ”€ data_points_count: 0
â””â”€ speed_history: []
```

---

## 2ë‹¨ê³„: ì²« ë²ˆì§¸ ê²½ë¡œ ì•ˆë‚´ (ì§§ì€ ê±°ë¦¬)
- Aì”¨ê°€ ì§‘ì—ì„œ í¸ì˜ì ê¹Œì§€ ê²½ë¡œ ì•ˆë‚´ ì‹œì‘
- **ì‹¤ì œ ê±¸ì€ ì‹œê°„: 2ë¶„** (120ì´ˆ)
  - íš¡ë‹¨ë³´ë„ ëŒ€ê¸°: 30ì´ˆ
  - ì‹¤ì œë¡œ ê±¸ì€ ì‹œê°„: **90ì´ˆë§Œ ì¸¡ì •ë¨** âœ“
- í•˜ì§€ë§Œ **5ë¶„(300ì´ˆ) ë¯¸ë§Œ**ì´ë¼ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì•ˆ ë¨
- ë³´í–‰ ì†ë„: ì—¬ì „íˆ **4 km/h**

### ğŸ“Š DB ì €ì¥
```
navigation_logs í…Œì´ë¸”:
â”œâ”€ log_id: 1001
â”œâ”€ user_id: 101
â”œâ”€ total_distance_m: 300
â”œâ”€ active_walking_time_seconds: 90 (ì‹ í˜¸ ëŒ€ê¸° ì œì™¸)
â”œâ”€ paused_time_seconds: 30 (íš¡ë‹¨ë³´ë„ ëŒ€ê¸°)
â”œâ”€ real_walking_speed_kmh: 12.0 (300m Ã· 90ì´ˆ = 3.33m/s = 12 km/h, ë„ˆë¬´ ì§§ì•„ì„œ ë¶€ì •í™•)
â”œâ”€ pause_count: 1
â”œâ”€ slope_factor: 1.0, weather_factor: 1.0
â””â”€ movement_data: {...}

activity_speed_profile í…Œì´ë¸”:
â”œâ”€ avg_speed_flat_kmh: 4.0 (ë³€í™” ì—†ìŒ - 90ì´ˆ < 300ì´ˆ ì¡°ê±´ ë¯¸ë‹¬)
â””â”€ data_points_count: 0
```

---

## 3ë‹¨ê³„: ë‘ ë²ˆì§¸ ê²½ë¡œ ì•ˆë‚´ (ê¸´ ê±°ë¦¬)
- Aì”¨ê°€ ì§‘ì—ì„œ í•™êµê¹Œì§€ ê²½ë¡œ ì•ˆë‚´ ì‹œì‘
- **ì‹¤ì œ ê±¸ì€ ì‹œê°„: 8ë¶„** (480ì´ˆ)
  - ì‹ í˜¸ ëŒ€ê¸° + íœ´ëŒ€í° ë³´ëŠë¼ ë©ˆì¶¤: 120ì´ˆ
  - ì‹¤ì œë¡œ ê±¸ì€ ì‹œê°„: **360ì´ˆ ì¸¡ì •ë¨** âœ“
- ì¸¡ì •ëœ ê±°ë¦¬: 1.8km
- **ê³„ì‚°ëœ ì‹¤ì œ ì†ë„: 5 km/h** (1.8km Ã· 360ì´ˆ)

### ë°±ì—”ë“œê°€ ìë™ìœ¼ë¡œ ê³„ì‚°:
1. ë‚ ì”¨ê°€ ì¢‹ì•˜ê³  (ë³´ì • 1.0) í‰ì§€ì˜€ìœ¼ë‹ˆ (ë³´ì • 1.0)
2. 5 km/hê°€ Aì”¨ì˜ ì§„ì§œ ì†ë„êµ¬ë‚˜!
3. **í”„ë¡œí•„ ì—…ë°ì´íŠ¸**: 4 km/h â†’ **4.7 km/h**
   - (ê¸°ì¡´ 4 Ã— 0.7) + (ìƒˆë¡œìš´ 5 Ã— 0.3) = 4.7 km/h
   - ê¸‰ê²©í•œ ë³€í™” ë°©ì§€ë¥¼ ìœ„í•´ 70%:30% ë¹„ìœ¨ë¡œ ë°˜ì˜

### ğŸ“Š DB ì €ì¥
```
navigation_logs í…Œì´ë¸”:
â”œâ”€ log_id: 1002
â”œâ”€ user_id: 101
â”œâ”€ total_distance_m: 1800
â”œâ”€ active_walking_time_seconds: 360 âœ“ (5ë¶„ ì´ìƒ)
â”œâ”€ paused_time_seconds: 120
â”œâ”€ real_walking_speed_kmh: 5.0 (1.8km Ã· 360ì´ˆ)
â”œâ”€ pause_count: 3
â”œâ”€ slope_factor: 1.0, weather_factor: 1.0
â””â”€ movement_data: {...}

activity_speed_profile í…Œì´ë¸” (ìë™ ì—…ë°ì´íŠ¸!):
â”œâ”€ avg_speed_flat_kmh: 4.0 â†’ 4.7
â”‚  â””â”€ ê³„ì‚°: 5.0 Ã· 1.0 Ã· 1.0 = 5.0 (ì—­ì‚° base_speed)
â”‚  â””â”€ ê°€ì¤‘í‰ê· : 4.0 Ã— 0.7 + 5.0 Ã— 0.3 = 4.7
â”œâ”€ data_points_count: 0 â†’ 1
â””â”€ speed_history: [{"nav_log_id": 1002, "measured_speed": 5.0, "old_avg": 4.0, "new_avg": 4.7, ...}]
```

ğŸ“± **ì•± ì•Œë¦¼**: "ë³´í–‰ ì†ë„ê°€ 4.7 km/hë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤"

---

## 4ë‹¨ê³„: ì„¸ ë²ˆì§¸ ê²½ë¡œ ì•ˆë‚´ (ì–¸ë•ê¸¸)
- Aì”¨ê°€ í•™êµì—ì„œ ì–¸ë• ìœ„ ì¹´í˜ê¹Œì§€ ê²½ë¡œ ì•ˆë‚´
- **ì‹¤ì œ ê±¸ì€ ì‹œê°„: 6ë¶„** (360ì´ˆ)
- ì¸¡ì •ëœ ê±°ë¦¬: 1.2km
- ì¸¡ì •ëœ ì‹¤ì œ ì†ë„: 3.6 km/h (ëŠë¦¼)

### ë°±ì—”ë“œê°€ ìë™ìœ¼ë¡œ ê³„ì‚°:
1. ê²½ì‚¬ë„ 15% ì–¸ë•ì´ì—ˆë„¤ (ë³´ì • 0.8)
2. 3.6 km/h Ã· 0.8 = **4.5 km/h** (í‰ì§€ í™˜ì‚° ì†ë„)
3. Aì”¨ëŠ” ì–¸ë•ì—ì„œëŠ” ëŠë ¤ì§€ì§€ë§Œ, í‰ì§€ ê¸°ì¤€ìœ¼ë¡œëŠ” 4.5 km/h
4. **í”„ë¡œí•„ ì—…ë°ì´íŠ¸**: 4.7 km/h â†’ **4.6 km/h**
   - (ê¸°ì¡´ 4.7 Ã— 0.7) + (ìƒˆë¡œìš´ 4.5 Ã— 0.3) = 4.6 km/h

### ğŸ“Š DB ì €ì¥
```
navigation_logs í…Œì´ë¸”:
â”œâ”€ log_id: 1003
â”œâ”€ user_id: 101
â”œâ”€ total_distance_m: 1200
â”œâ”€ active_walking_time_seconds: 360
â”œâ”€ real_walking_speed_kmh: 3.6 (ì–¸ë•ì´ë¼ ëŠë¦¼)
â”œâ”€ slope_factor: 0.8 (15% ê²½ì‚¬)
â”œâ”€ weather_factor: 1.0
â””â”€ movement_data: {...}

activity_speed_profile í…Œì´ë¸” (ìë™ ì—…ë°ì´íŠ¸!):
â”œâ”€ avg_speed_flat_kmh: 4.7 â†’ 4.6
â”‚  â””â”€ ì—­ì‚°: 3.6 Ã· 0.8 Ã· 1.0 = 4.5 (í‰ì§€ í™˜ì‚°)
â”‚  â””â”€ ê°€ì¤‘í‰ê· : 4.7 Ã— 0.7 + 4.5 Ã— 0.3 = 4.64 â‰ˆ 4.6
â”œâ”€ data_points_count: 1 â†’ 2
â””â”€ speed_history: [..., {"nav_log_id": 1003, "measured_speed": 3.6, "base_speed": 4.5, "slope_factor": 0.8, ...}]
```

ğŸ“± **ì•± ì•Œë¦¼**: "ë³´í–‰ ì†ë„ê°€ 4.6 km/hë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤"

---

## 5ë‹¨ê³„: ë„¤ ë²ˆì§¸ ê²½ë¡œ ì•ˆë‚´ (ë¹„ ì˜¤ëŠ” ë‚ )
- ë¹„ ì˜¤ëŠ” ë‚  Aì”¨ê°€ ì§‘ì—ì„œ ë³‘ì›ê¹Œì§€ ê²½ë¡œ ì•ˆë‚´
- **ì‹¤ì œ ê±¸ì€ ì‹œê°„: 7ë¶„** (420ì´ˆ)
- ì¸¡ì •ëœ ê±°ë¦¬: 2.1km
- ì¸¡ì •ëœ ì‹¤ì œ ì†ë„: 5.4 km/h (ë¹ ë¦„?)

### ë°±ì—”ë“œê°€ ìë™ìœ¼ë¡œ ê³„ì‚°:
1. ë¹„ê°€ ë§ì´ ì™€ì„œ ë‚ ì”¨ ë³´ì •: 0.85
2. 5.4 km/h Ã· 0.85 = **6.35 km/h** (ë§‘ì€ ë‚  í™˜ì‚° ì†ë„)
3. ì–´? ì´ìƒí•˜ê²Œ ë¹ ë¥¸ë°? â†’ ìš°ì‚° ì“°ê³  ë¹¨ë¦¬ ê±¸ì—ˆë‚˜ë´„
4. **í”„ë¡œí•„ ì—…ë°ì´íŠ¸**: 4.6 km/h â†’ **5.1 km/h**
   - (ê¸°ì¡´ 4.6 Ã— 0.7) + (ìƒˆë¡œìš´ 6.35 Ã— 0.3) = 5.1 km/h

### ğŸ“Š DB ì €ì¥
```
navigation_logs í…Œì´ë¸”:
â”œâ”€ log_id: 1004
â”œâ”€ user_id: 101
â”œâ”€ total_distance_m: 2100
â”œâ”€ active_walking_time_seconds: 420
â”œâ”€ real_walking_speed_kmh: 5.4 (ë¹„ ì˜¤ëŠ”ë° ë¹ ë¦„)
â”œâ”€ slope_factor: 1.0
â”œâ”€ weather_factor: 0.85 (ë¹„)
â””â”€ movement_data: {...}

activity_speed_profile í…Œì´ë¸” (ìë™ ì—…ë°ì´íŠ¸!):
â”œâ”€ avg_speed_flat_kmh: 4.6 â†’ 5.1
â”‚  â””â”€ ì—­ì‚°: 5.4 Ã· 1.0 Ã· 0.85 = 6.35 (ë§‘ì€ ë‚  í™˜ì‚°)
â”‚  â””â”€ ê°€ì¤‘í‰ê· : 4.6 Ã— 0.7 + 6.35 Ã— 0.3 = 5.125 â‰ˆ 5.1
â”œâ”€ data_points_count: 2 â†’ 3
â””â”€ speed_history: [..., {"nav_log_id": 1004, "measured_speed": 5.4, "base_speed": 6.35, "weather_factor": 0.85, ...}]
```

ğŸ“± **ì•± ì•Œë¦¼**: "ë³´í–‰ ì†ë„ê°€ 5.1 km/hë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤"

---

## ìµœì¢… ê²°ê³¼

### Aì”¨ì˜ í”„ë¡œí•„ ë³€í™”:
- **ì²˜ìŒ**: 4.0 km/h (ëª¨ë“  ì‚¬ìš©ì ë™ì¼)
- **4ë²ˆì˜ ê²½ë¡œ ì•ˆë‚´ í›„**: 5.1 km/h (Aì”¨ë§Œì˜ ì†ë„)

### ğŸ“Š DB ìµœì¢… ìƒíƒœ
```
users í…Œì´ë¸”:
â””â”€ user_id: 101, username: "A"

activity_speed_profile í…Œì´ë¸”:
â”œâ”€ user_id: 101
â”œâ”€ avg_speed_flat_kmh: 4.0 â†’ 5.1 km/h
â”œâ”€ data_points_count: 0 â†’ 3 (ìœ íš¨í•œ ì¸¡ì • íšŸìˆ˜)
â””â”€ speed_history: [3ê°œ ì´ë ¥]
    â”œâ”€ {"nav_log_id": 1002, "measured_speed": 5.0, "old_avg": 4.0, "new_avg": 4.7, ...}
    â”œâ”€ {"nav_log_id": 1003, "measured_speed": 3.6, "base_speed": 4.5, "old_avg": 4.7, "new_avg": 4.6, ...}
    â””â”€ {"nav_log_id": 1004, "measured_speed": 5.4, "base_speed": 6.35, "old_avg": 4.6, "new_avg": 5.1, ...}

navigation_logs í…Œì´ë¸”:
â”œâ”€ log_id: 1001 (ë„ˆë¬´ ì§§ì•„ì„œ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì•ˆ ë¨)
â”œâ”€ log_id: 1002 (í‰ì§€, ë§‘ìŒ, 5.0 km/h â†’ í”„ë¡œí•„ ì—…ë°ì´íŠ¸)
â”œâ”€ log_id: 1003 (ì–¸ë•, ë§‘ìŒ, 3.6 km/h â†’ í‰ì§€ í™˜ì‚° 4.5 km/h)
â””â”€ log_id: 1004 (í‰ì§€, ë¹„, 5.4 km/h â†’ ë§‘ì€ ë‚  í™˜ì‚° 6.35 km/h)
```

### ë‹¤ìŒ ê²½ë¡œ ì•ˆë‚´ë¶€í„°:
- ì•±ì€ **5.1 km/h**ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë„ì°© ì‹œê°„ ì˜ˆì¸¡
- ë‚ ì”¨ì™€ ê²½ì‚¬ë„ ê³ ë ¤í•´ì„œ ë” ì •í™•í•œ ì‹œê°„ ê³„ì‚°
- Aì”¨ê°€ ê±¸ì„ ë•Œë§ˆë‹¤ ê³„ì† ì—…ë°ì´íŠ¸ë¨

---

## í•µì‹¬ í¬ì¸íŠ¸

âœ… **ì‹ í˜¸ ëŒ€ê¸° ì‹œê°„ì€ ì œì™¸** - GPS + ê°€ì†ë„ê³„ë¡œ ì‹¤ì œë¡œ ê±¸ì€ ì‹œê°„ë§Œ ì¸¡ì •

âœ… **5ë¶„ ì´ìƒ ê±¸ì–´ì•¼ ì—…ë°ì´íŠ¸** - ì§§ì€ ê±°ë¦¬ëŠ” ì˜¤ì°¨ê°€ í´ ìˆ˜ ìˆì–´ì„œ

âœ… **ì²œì²œíˆ ë³€í™”** - 70%:30% ë¹„ìœ¨ë¡œ ê¸‰ê²©í•œ ë³€í™” ë°©ì§€

âœ… **ë‚ ì”¨/ê²½ì‚¬ ë³´ì •** - ì–¸ë•ì´ë‚˜ ë¹„ ì˜¤ëŠ” ë‚ ì˜ ì˜í–¥ ì œê±°

âœ… **ì™„ì „ ìë™** - ì‚¬ìš©ìëŠ” ì•„ë¬´ê²ƒë„ ì•ˆ í•´ë„ ë¨

âœ… **ëª¨ë“  ë³€í™” ê¸°ë¡** - speed_history JSONBì— ì–¸ì œ ì–´ë–»ê²Œ ë³€í–ˆëŠ”ì§€ ì¶”ì 
